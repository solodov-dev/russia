<template>
  <svg
    id="map"
    xmlns="http://www.w3.org/2000/svg"
    width="1122"
    height="793"
    viewBox="0 0 295 210"
  >
    <path d="m 266.20478,8.254271 c -2.5041,0.01419 -4.75368,6.250412 -5.47722,7.289782 -0.77177,1.10867 -6.94591,4.06522 -10.22593,6.28258 -3.28,2.21735 -4.82376,4.43476 -5.40258,6.46732 -0.57883,2.03258 -3.47282,4.06503 -3.8587,5.72805 -0.38589,1.66301 2.50814,1.29359 0.96461,3.32617 -1.54354,2.03257 -1.73645,2.40205 -2.70117,5.54328 -0.96471,3.14124 -1.35047,6.46727 -3.66577,7.0216 -2.3153,0.55434 -3.85896,-2.2175 -6.3672,-0.92404 -2.50825,1.29345 -2.50819,5.54337 -5.59526,7.02161 -3.08707,1.47822 -5.59531,0.73927 -7.52473,0.92403 -1.92942,0.18479 -7.33186,3.51071 -9.45422,5.72806 -2.12235,2.21734 2.50837,4.98898 1.35073,7.57589 -1.15766,2.58689 -6.7532,2.77177 -7.91085,3.88045 -1.15765,1.10867 2.89415,4.2499 -0.19292,4.80423 -3.08707,0.55434 -5.01634,-6.09766 -6.36694,-7.39111 -1.3506,-1.29346 -5.78821,-0.1849 -7.91058,1.10855 -2.12236,1.29345 1.54351,3.88032 0.19293,4.98901 -1.3506,1.10867 -4.43781,-0.18475 -6.17429,-0.36953 -1.73648,-0.18477 -7.33181,2.12499 -7.33181,2.12499 -2.79767,0.83149 -6.07755,5.08138 -6.07755,5.08138 0,0 -0.48251,-1.01628 -1.1578,-2.40212 -0.6753,-1.38584 1.54369,-2.67929 6.07782,-7.20638 4.53414,-4.52706 -0.28954,-8.22268 -1.25426,-9.14658 -0.96471,-0.92389 -2.21879,-0.0922 -5.30586,-1.01617 -2.50825,-0.75067 -2.34161,-2.05032 -3.74332,-2.06528 -0.32346,-0.004 -0.73051,0.0616 -1.27318,0.21743 -2.89412,0.83149 -3.18336,7.57607 -3.95513,8.2228 -0.77177,0.64672 -3.37653,1.29328 -4.53417,1.47807 -1.15766,0.18478 -4.72705,1.01637 -7.81412,3.97284 -3.08707,2.95645 -1.73657,5.54327 -1.73657,5.54327 0,0 -1.1577,0.83157 -4.43772,1.75547 -3.28002,0.92389 -3.4488,2.05569 -3.97939,3.25676 -0.53061,1.20105 -3.73825,2.93343 -3.73825,2.93343 -4.63061,3.04885 -3.95541,-1.5706 -4.05189,-2.49451 -0.0965,-0.92389 -1.15743,-2.86425 -4.63037,-3.14141 -0.21706,-0.0174 -0.42135,-0.0245 -0.61367,-0.0225 -2.88494,0.0295 -3.0885,2.12449 -3.63114,3.16387 -0.57883,1.10867 -3.66579,3.3258 -3.47286,4.43447 0.19295,1.10867 -0.67545,5.26627 -1.06134,6.46733 -0.38587,1.20106 0.19292,-1e-5 0.38585,7.39116 -1.35059,-0.73913 -2.60471,-3.23368 -2.60471,-4.52714 0,-1.29346 -1.89457,-3.46959 -1.89457,-3.46959 0,0 -0.4775,-1.37191 -0.68215,-1.89454 -0.20463,-0.52264 -2.52396,-2.02521 -4.43398,-2.35185 -1.91003,-0.32665 -2.72862,1.89454 -3.615418,2.41717 -0.886807,0.52264 -2.72862,-0.97994 -3.820063,-0.97994 -1.091434,0 -4.502224,-2.41716 -5.866524,-3.33178 -1.364324,-0.9146 -6.480461,-0.52263 -8.526926,-0.58797 -2.046465,-0.0653 -1.296092,-2.0252 -0.852692,-3.36444 0.443402,-1.33925 -2.967365,-4.7037 -3.478988,-2.71117 -0.511609,1.99256 -5.150247,5.68365 -5.150247,5.68365 0,0 0,-0.52264 -1.125552,-1.37192 -1.125551,-0.84927 -2.728614,-0.3593 -3.478988,-0.26132 -0.750359,0.0981 -3.717724,-0.55529 -4.297555,-0.88194 -0.579831,-0.32664 -3.069684,-1.4699 -4.536318,-1.24125 -1.466621,0.22866 -1.106019,1.68952 -1.974246,2.70579 -0.86824,1.01629 0.385852,2.40212 0.385852,2.40212 0,0 0.09637,1.29361 -2.02595,-1.2933 -2.12237,-2.58691 2.797574,-8.03799 3.376397,-8.59232 0.578835,-0.55434 -0.192829,-3.04878 1.447178,-3.04878 1.640008,0 1.253989,2.67927 1.253989,2.67927 0,0 2.701205,6.65195 7.23535,5.54328 4.534132,-1.10867 3.279975,-6.65194 2.701167,-8.13017 -0.578849,-1.47824 0.19297,-3.32591 -0.289393,-5.72803 -0.482362,-2.40213 -2.604565,-2.12508 -3.762222,-3.78808 -1.157671,-1.66301 -0.0965,-3.23354 -0.0965,-3.23354 0,0 -0.385878,-3.32618 -4.920023,-3.23378 -4.534132,0.0923 -3.955426,6.37494 -3.955426,6.37494 0,0 -0.482402,-1.01628 -2.025937,0 -1.543533,1.01629 -2.701049,4.34224 -3.762221,5.35853 -1.061185,1.01629 -1.736468,1.10871 -2.797635,2.0326 -1.061187,0.9239 -0.482514,2.40203 -1.061336,3.23353 -0.578818,0.83151 -2.025869,0.92395 -2.797631,1.94023 -0.771778,1.01628 -0.964604,3.88045 -0.964604,3.88045 0,0 -12.348249,-1.29345 -12.637668,4.80425 -7.717678,-0.46195 -10.804914,5.17371 -13.602567,7.9454 -2.79766,2.77168 1.254256,9.73893 1.254256,9.73893 -2.728614,2.09053 -1.705383,6.40227 -2.046462,6.59825 -0.341073,0.19599 -0.341073,0.13066 -3.137902,0.9146 -2.796821,0.78396 -2.182886,4.50772 -2.046456,5.03035 0.136431,0.52263 2.86504,2.35185 2.387537,3.52778 -0.477511,1.17593 -1.159662,1.7639 -1.159662,1.7639 0,0 0.06822,6.46758 0.06822,6.92489 0,0.4573 4.09292,6.99021 5.525436,9.53804 0.700108,1.2452 0.427778,2.11111 -0.02964,2.67621 0.01566,0.007 0.04015,0.0185 0.06662,0.0304 -0.08266,-0.035 -0.139368,-0.0607 -0.139368,-0.0607 0,0 -1.659064,1.62143 -3.684963,2.17576 -2.025885,0.55435 -2.508108,-0.50836 -3.713993,-0.27739 -1.205895,0.23097 -1.8329437,2.54091 -2.7011657,3.00284 -0.8682537,0.46195 -1.1577602,-0.46191 -1.6400984,-0.27713 -0.4823637,0.18479 -1.3023642,1.6166 -2.4600165,1.98615 -1.1576564,0.36957 -2.9425081,-0.32314 -3.66604251,0.41598 -0.72353118,0.7391 0.86840621,5.12737 0.91664881,6.88278 l 9.8893523,18.39628 c 0,0 2.796826,2.74381 3.069688,5.29166 0.27286,2.54783 1.568948,6.33692 3.88827,6.33692 2.319314,0 3.069683,-5.22633 2.865046,-6.07561 -0.204654,-0.84928 0.545717,-3.78909 1.705378,-4.96501 1.159661,-1.17593 -0.393151,-2.54987 0.477504,-3.26646 1.040572,-0.85643 0.955019,-2.22118 4.433997,-1.63323 0,0 3.804867,0.26004 4.828099,-0.58923 0,0 1.594585,-1.94652 1.063994,-5.22634 -0.53059,-3.27982 -2.508427,-5.68189 -0.771952,-7.66826 0,0 4.630647,-1.75543 4.582414,-4.48092 0,0 1.621181,3.20037 3.258346,3.20037 1.637165,0 6.678171,-1.70621 6.678171,-1.70621 0,0 0.434178,2.72528 2.074164,4.15731 1.64001,1.43205 2.508379,0.23103 3.907205,1.94023 1.398826,1.70921 1.688063,4.57327 4.099838,4.85045 2.411762,0.27716 4.196568,-0.0925 6.704815,3.04877 2.508248,3.14122 5.836447,3.04891 8.007041,1.75547 2.17058,-1.29345 1.109447,-4.24988 -0.337602,-5.08139 -0.245748,-0.1412 -0.457191,-0.3131 -0.642737,-0.49889 -0.05536,-0.0554 -0.107881,-0.11189 -0.158265,-0.16971 0.05031,0.0577 0.10297,0.11435 0.158265,0.16971 3.02877,-2.36886 8.456482,-6.10123 9.614631,-6.75367 1.640008,-0.92389 4.148203,0.73901 5.402333,1.10856 1.254117,0.36955 8.007,-0.0923 8.585831,-0.55428 0.578831,-0.46195 2.508218,-0.46177 5.209422,0.73929 0,0 1.25424,2.03235 1.25424,4.43447 0,2.40213 1.83289,2.58708 3.08702,3.14141 1.25412,0.55434 1.06111,2.21727 3.087,3.14117 2.02589,0.92388 2.21891,-0.73901 4.34127,-1.01617 2.12235,-0.27718 3.08723,2.21732 3.56959,2.4945 0.48233,0.27716 2.60467,5.54334 2.79762,7.29874 0.19294,1.75541 1.44702,2.21734 2.89407,4.89663 1.44707,2.67929 8.48951,2.49445 9.45422,2.95639 0.96471,0.46196 5.40238,5.63567 7.33181,5.63567 1.92941,0 6.65638,-0.73895 8.68227,-1.66283 2.02589,-0.9239 4.9201,-3.69557 6.65658,-4.89662 1.73647,-1.20108 7.13878,2.6792 7.91056,3.23352 0.77176,0.55434 5.6918,-0.0922 7.33181,-1.01617 1.64001,-0.9239 0.28942,-3.60322 -0.0965,-4.52711 -0.3859,-0.92389 -0.38592,-3.14126 2.70116,-4.61948 3.08707,-1.47822 9.74342,4.43467 11.28696,5.08138 1.54353,0.64674 2.60474,-1.57059 4.82356,-2.58687 2.21884,-1.0163 5.01668,0.46183 5.69199,1.01617 0.6753,0.55433 5.20926,2.03259 6.65632,2.12498 1.44706,0.0923 5.30603,-1.84775 6.27074,-2.77165 0.96471,-0.92388 3.85879,-4.52698 5.49879,-5.54327 1.64001,-1.01627 3.85869,-0.92405 3.85869,-0.92405 0,0 3.95539,0.64671 6.75305,-2.21736 2.79766,-2.86406 0.38581,-6.83675 0.67522,-7.76064 0.28943,-0.9239 0.19298,-3.51085 -0.28937,-4.43474 -0.48236,-0.9239 -1.44691,-2.58672 -1.54338,-3.97257 -0.0965,-1.38584 3.08702,-2.58713 3.08702,-2.58713 0,0 8.54129,-3.01969 9.56452,-2.62772 1.02323,0.39197 7.91297,7.70885 9.75478,8.62346 1.84182,0.9146 7.70834,0.0653 8.73157,0.13065 1.02322,0.0653 3.41075,1.76388 4.70684,1.76388 1.29611,0 3.06972,-0.26131 3.34257,-2.0252 0.27287,-1.76387 1.84182,-3.85442 3.13792,-3.78908 1.29609,0.0653 2.25109,1.24124 2.04646,4.37704 -0.20465,3.13579 1.50074,6.01029 1.56895,7.77417 0.0682,1.76388 -2.79683,2.74383 -3.06969,4.63839 -0.27287,1.89453 1.29609,2.35185 1.97824,5.03032 0.68215,2.67851 0.68216,3.59311 2.25111,4.05042 1.56894,0.4573 2.45575,-0.91461 2.59218,-1.63324 0.13643,-0.71861 2.45574,-1.63322 4.22935,-3.33178 1.7736,-1.69856 2.11466,-5.74897 2.31932,-11.95525 0.20464,-6.20626 -1.36432,-15.80966 -1.84181,-17.90017 -0.47751,-2.09054 -1.77361,-5.61831 -2.72862,-7.05555 -0.95503,-1.43725 -3.06969,-4.7037 -3.61541,-7.05555 -0.54573,-2.35186 -5.79831,-8.10081 -7.29904,-8.81944 -1.50075,-0.71861 -3.34256,0.45731 -4.57044,1.37191 -1.22787,0.91462 -0.61394,3.26646 -1.56895,3.78909 -0.95501,0.52264 -5.52545,1.1106 -6.82154,-0.58796 -1.29609,-1.69855 0.47752,-6.72889 0.54572,-8.2968 0.0682,-1.5679 0.0682,-6.46758 0,-8.03548 -0.0682,-1.5679 -1.15965,-4.70369 -0.95501,-7.31688 0.20466,-2.61318 7.02617,-7.90486 7.84477,-8.49283 0.81858,-0.58795 1.09144,-2.54783 1.09144,-3.65843 0,-1.1106 1.02323,-1.69856 2.11469,-3.07048 1.09145,-1.3719 2.66041,0.0653 4.09292,0 1.43253,-0.0653 1.70539,-1.56789 1.50074,-2.28651 -0.20466,-0.71861 1.02323,-2.22119 1.63716,-3.59311 0.61394,-1.3719 -0.68215,-1.24124 -1.91002,-2.15585 -1.22788,-0.91461 -1.63718,-2.74384 -2.1829,-4.05042 -0.54572,-1.30658 -0.68215,-3.5931 -1.43251,-5.55298 -0.75037,-1.95987 1.63717,-2.4825 2.2511,-3.85441 0.61394,-1.37192 2.45575,1.50257 3.41078,1.04526 0.955,-0.4573 1.22785,-1.76389 1.4325,-2.74383 0.20465,-0.97994 -1.50073,-3.39711 0.27287,-5.68362 2.72861,1.11059 3.23418,10.28962 4.97065,14.72433 1.73649,4.43468 -9e-5,3.5106 0.96461,11.2713 0.96471,7.76072 18.52258,15.52148 21.03083,14.04324 2.50825,-1.47824 -1.2e-4,-4.43461 -1.35073,-5.72806 -1.35058,-1.29344 -1.15752,-4.43461 -1.15752,-5.54328 0,-1.10867 -1.92946,-4.25002 -1.92946,-6.0978 0,-1.8478 -0.57891,-4.06514 -1.92949,-4.80425 -1.35059,-0.73913 -1.73657,-0.92393 -1.73657,-2.03261 0,-1.10867 -2.31519,-3.69561 -3.47285,-4.43473 -1.15764,-0.73912 -5.2095,-2.40192 -6.75305,-4.2497 -1.54354,-1.8478 -2.70099,-4.80441 -1.73628,-5.7283 0.96471,-0.9239 1.15761,-5.72806 2.8941,-7.94541 1.73646,-2.21734 0.77172,-5.91291 0.1929,-7.20637 -0.57882,-1.29345 -1.54348,-9.23897 -2.89409,-11.6411 -1.35059,-2.40211 2.12226,-5.54335 0.96461,-7.20636 -1.15765,-1.663 -6.55996,0.55433 -8.10348,0.18476 -1.54355,-0.36955 -0.19314,-1.84773 -0.77196,-2.9564 -0.57883,-1.10867 -1.73636,-2.77164 -1.15754,-5.17376 0.57882,-2.40213 4.24463,-3.69573 5.98111,-8.13041 1.73646,-4.434678 -1.35061,-2.402087 -2.50825,-2.771634 -1.15766,-0.369564 -0.57875,-2.956536 -3.27993,-3.880433 -0.16883,-0.05771 -0.33695,-0.08449 -0.50389,-0.08344 z M 51.125933,210.50231 c -0.25704,0.0514 -0.530366,0.0969 -0.812184,0.1383 0.281818,-0.0414 0.555157,-0.087 0.812184,-0.1383 z m -1.240399,0.19726 c -0.576632,0.0745 -1.171381,0.13372 -1.72137,0.18681 -0.549994,0.053 -1.055214,0.1 -1.452766,0.15005 0.397552,-0.0501 0.902787,-0.097 1.452766,-0.15005 0.549974,-0.0531 1.144738,-0.11228 1.72137,-0.18681 z m -3.451268,0.37514 c -0.169903,0.0262 -0.30893,0.0532 -0.409297,0.0832 0.100364,-0.0299 0.239394,-0.0572 0.409297,-0.0832 z m -0.529741,0.13013 c -0.05969,0.0327 -0.149222,0.095 -0.261925,0.17966 0.112707,-0.0847 0.202242,-0.14699 0.261925,-0.17966 z m 36.783505,0.097 c 0.412071,0.17377 0.853377,0.39818 1.283571,0.63722 -0.430194,-0.23904 -0.8715,-0.46345 -1.283571,-0.63722 z m -39.642144,2.14463 c -0.178,0.13066 -0.345878,0.24805 -0.496965,0.34503 -0.151076,0.097 -0.285379,0.17352 -0.396232,0.22252 0.110857,-0.049 0.245156,-0.12561 0.396232,-0.22252 0.151087,-0.097 0.318965,-0.21437 0.496965,-0.34503 z m -5.628293,6.68757 c -0.141341,0.0817 -0.277616,0.15107 -0.406352,0.20314 0.128681,-0.052 0.265068,-0.12134 0.406352,-0.20314 z m -11.6411,10.27097 c -0.100365,0.0129 -0.19248,0.0304 -0.274727,0.053 0.08222,-0.0228 0.174356,-0.0402 0.274727,-0.053 z m -1.434394,1.26422 c -0.07301,0.10813 -0.153973,0.21692 -0.249679,0.32384 0.09571,-0.10698 0.176674,-0.21565 0.249679,-0.32384 z m 50.582181,3.17867 c 0.04592,0.0976 0.0877,0.20043 0.124439,0.3093 -0.03674,-0.10892 -0.07852,-0.21168 -0.124439,-0.3093 z m -5.553406,5.02779 c -0.01798,0.0372 -0.03079,0.0752 -0.03791,0.11461 0.0065,-0.0393 0.01992,-0.0775 0.03791,-0.11461 z m -0.403703,9.14021 c -0.04217,0.2021 -0.07671,0.39638 -0.105034,0.57393 0.0282,-0.17755 0.06273,-0.37183 0.105034,-0.57393 z m 1.374676,2.96815 c 0,0 0.01862,0.0815 0.03997,0.16688 -0.02445,-0.0964 -0.03997,-0.16688 -0.03997,-0.16688 z m 0.06002,0.24294 c 0.01165,0.0397 0.02574,0.087 0.04062,0.13449 -0.01552,-0.0503 -0.02923,-0.093 -0.04062,-0.13449 z m 0.08473,0.26871 c 0.138435,0.40532 0.391272,0.98329 0.832163,1.49109 -0.442896,-0.51042 -0.694839,-1.08522 -0.832163,-1.49109 z" 
    style="display:inline;fill:#5fbcd3;stroke:#ffffff;stroke-width:0.40053976;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.5254902" />
    <!-- Map elements -->
    <path v-for="region in mapRussia" :key="region.id" :d="region.d" :style="region.style" />
    <!-- Pins -->
    <image v-for="(region, index) in mapRussia" :key="index" :href="getSvg(region)" :x="region.cx-15" :y="region.cy-15" @click="goToArticle(region)" class="pin"/> 
  </svg>
</template>
<script>
import { eventBus } from "../main";
import { mapData } from "../assets/mapData";

export default {
  data: function() {
    return {
      mapRussia: mapData,
      currentCategory: "people",
    };
  },
  methods: {
    getSvg(region) {
      let images = require.context('../assets/', false, /\.svg$/);
      return images('./' + region[this.currentCategory] + ".svg")
    },
    goToArticle(region) {
      let article = region[this.currentCategory];
      eventBus.$emit("articleOpened", article);
    }
  },
  created() {
    eventBus.$on("categoryChanged", category => {
      this.currentCategory = category;
    });
  }
};
</script>
<style scoped>
  #map {
    width: 100%;
    height: 80vh;
  }

  .pin {
    height: 30px;
    width: 30px;
    transition: all .1s ease-in;
  }

  .pin:hover {
    width: 60px;
    height: 60px;
    transform: translate(-15px, -15px);
  }

  .pin:active {
    width: 55px;
    height: 55px;
  }
</style>